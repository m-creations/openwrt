#+TITLE:    OpenWrt Docker x86_64 Image
#+AUTHOR:   Kambiz Darabi
#+EMAIL:    darabi@m-creations.net
#+DATE: \today
#+TAGS: { export noexport }
#+STARTUP: hidestars
#+STARTUP: overview
#+OPTIONS: ^:{}


* Introduction

This document gathers all information about the build process for a
reliable build and distribution of a x86_64 base image and
corresponding packages.

The docker base image can be found at

https://registry.hub.docker.com/u/mcreations/openwrt-x64/

* Development Process

To be able to provide consistent binaries, a 'stable' branch is
maintained, which is tagged with YYYYMMDD (year-month-day) tags.

The [package feed configuration](../feeds.conf.default) - in contrast
to the trunk version of openwrt - uses a specific commit of the
package repos, instead of following the master branch.

The current configuration for the build is kept in
m-creations/config-x86_64.

* Build Process

The build process uses the mentioned m-creations/config-x86_64 as
.config, then starts a build which creates the base images and all
packages.

A clean build on current hardware (with `make -j 1`) takes roughly 1.5
hours to finish and produces around 550 ipk files which total 70 MB.

